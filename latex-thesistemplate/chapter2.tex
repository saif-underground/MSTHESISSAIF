% chap2.tex (Definitions)

\chapter{Customer Load Forecasting in Power TAC}

We cannot think of modern civilization without the existence of electricity. Accross the globe, electricity generation companies are spending trillions of dollars every year to produce Terawatt-hours of electricity to keep the wheel of the civilization running \cite{electricityStats}. Major portion of the electricity is produced by burning coals and natural gas \cite{electricityStats}. Alone the electricity generation is responsible for more than 40\% of all the green house gas emissions \cite{schreiber2009environmental}. Around 4 million customers were disconnected from electricity in blackouts during 2003 \cite{andersson2005causes}. Electricity generation compaines need to accurately forecast electricity load demand to avoid negative impacts on the environment, economic loss and blackouts \cite{lodhi2013impact, sanghvi1982economic}. The companies may improve their load forecasting methods by utilizing wealth of electricity usage data of their customers. In this thesis, I propose a data driven electricity load forecasting system. The system was tested on a futuristic, smart grid \cite{fang2012smart} based simulation platform called Power Trading Agent Competition (Power TAC) \cite{ketter2013power}.

\section{Smart Grid}

In a power grids there are three subsystems: electricity generation, transmission, and distribution \cite{fang2012smart}. In the electricity generation subsystem, the generator rotates a turbine in a magnetic field which generates electricity. Usually, the turbine rotates using the power of kinetic energy of water falling over a waterfall, a river with strong current, or from the reaction in nuclear power plant, or energy produced from burning coal or natural gas. The energy generation system then transmits the electricity through a transmission grid and electricity gets distributed through the distribution grid. A traditional generation system is one way meaning that electricity flows occurs only from generation node to consumption locations, and there is little capability to collect information and intelligently manage the grid at all levels. In Figure \ref{fig:tradgrid}, flow of electricity is shown by an arrow. It can be seen that all the arrows start from electricity generation and go to consumer's direction which indicates an one way flow of electricity.

\begin{figure}[h]
  \includegraphics[width=\linewidth]{traditional.png}
  \caption{Traditional electricity generation and distribution system.}
  \label{fig:tradgrid}
\end{figure}

In contrast to the traditional electricity generation system, the Smart Grid (SG) is two-way \cite{fang2012smart}. Any node in the distribution grid can both consume and produce electricity to supply to the distribution grid. In Figure \ref{fig:smartgrid} a smart grid based electricity generation and distribution system is depicted. We can see that, in this system a flow toward the distribution system is possible. Renewable energy sources, house hold customers with solar energy production capabilities are pushing electricity to the power grid. The National Institute of Standards and Technology report \cite{fang2012smart} states that the SG could make the electricity generation and supply robust against generator or distribution node failure, promote the use renewable energy widely and efficiently, reduce greenhouse gas emissions, reduce oil consumption by encouraging usage of electric vehicles, and give customers more freedom to choose among energy sources. Smart grids will encourage usage of electric vehicles since these vehicles have the ability to store power in a battery and transmit the power to the distribution grid if there is a need. Customers are showing strong motivation to use renewable energy as indicated by the statistics that 20\% of total energy is from the renewable sources which are second after coal 24\%. Consumers are using renewable energy due to economic reward and environmental concern. The major challenge with the usage of renewable energy as part of the supply is that it is uncertain \cite{richter2012transitioning}. This uncertainty causes problems for predicting how much energy the SG can produce in a future time slot. To manage the SG efficiently we will need effective methods to predict both energy production and load demand so they can be balanced in real time \cite{potter2009building}.

\begin{figure}[h]
  \includegraphics[width=\linewidth]{smart-grid.png}
  \caption{Smart grid based electricity generation and distribution system.}
  \label{fig:smartgrid}
\end{figure}

\section{The Power Trading Agent Competition}

Power Trading Agent Competition (Power TAC) \cite{ketter2013power, ketter20162016}, is an international research competition based on a smart grid energy market and distribution system. The power TAC simulation models components including a wholesale market, electricity brokers, customers, a distribution utility and a weather service \cite{ketter20162016}. The brokers publish tariff plans for electricity consumers and producers. They buy electricity from the wholesale and balancing market to meet net customers demand. The system has realistic customer models and uses real weather data. Because of the realisitic customer models present in the system, Power TAC can be used to do research on the customer electricity load demand. It is also useful because generating data is cheap in a computer simulation. The following sections give a brief explanation of each component of the Power TAC. Figure \ref{fig:simulation-environment}  shows a block diagram of the components of the powerTAC simulation environment.
%advantage 

\subsection{Brokers}

In Power TAC game, participants implement a fully autonomous broker agent. A broker in the simulation competes with the other brokers by publishing competitive tariffs. The goal of a broker is to maximize its profit by buying electricity in a cheap price and selling the electricity in a profitable price. Here is the list of actions that a broker can take in Power TAC simulation:
\begin{itemize}  
\item At any hour of the simulation, a broker can publish a new tariff. Each tariff is targeted to a specific category of customers. The tariffs contain information about which category of customers it is targeted, the expiration date of the tariff, signing bonus, penalty for early withdraw, and the rate of periodic payment. 
\item At any time, a broker can modify its published tariffs. It can adjust payment rates and withdraw penalty. The broker can also revoke a tariff that is not profitable.
\item To meet customer demand, a broker takes part in the electricity auction in the wholesale market. Wholesale market is the meeting place for bulk electricity sellers and brokers. The broker specifies how much electricity it needs, how much it is ready to pay for and in which time it needs the electricity. The broker can make asks or bid for next 24 hours. Based on the asks and bids from other brokers in the simulation, the broker's bid may or may not get cleared. 
\end{itemize}

At any moment in the simulation the brokers have the following information : 
\begin{itemize}  
\item Participating brokers in the simulation 
\item Information such as population, power types of the customers present in the simulation.
\item Initial electricity usage data of customers and initial clearing prices of the wholesale market.
\item Published tariffs in the simulation.
\item Information about tariff modification or revocation.
\item Wholesale market clearing prices for the last time slot.
\item Energy transaction information of subscribed customers.
\item Transaction in the balancing market.
\item Current bank balance for the agent.
\end{itemize}


\subsection{Customers}
A customer represents an entity that buys or sells energy from or sells energy to the brokers. A customer tries to minimize its costs by subscribing to a broker that offers profitable tariff for the customer. The customers ocassionally evaluates the tariffs present in the market and switch to a profitable tariff if necessary. Customers decide the outcome of a competition as the customers are the only consumers present in the system. A customer has the following attributes :
\begin{itemize}  
\item An unique name. 
\item Number of individuals the customer represents. This number can range from one to several thousands. 
\item A power type that specifies which category of customers (producer or consumer) the model falls into. Producer and consumer categories have several subcategories. In Power TAC the categories of the customers are consumption, interruptible consumption, thermal storage, wind production, solar production and electric vehicle. Each customer type has its distinctive behavior. 
\end{itemize}

A customer can take the following actions during a simulation - 
\begin{itemize}  
\item Evaluate available tariffs in tariff market.
\item Subscribe to or abandon a tariff. Customers try to maximize their economic gain so if there is a lucrative tariff in the market, a customer might try to subscribe to it.
\item Generate meter reading based on produced or consumed energy. The system then sends this meter reading to the broker it subscribed to. 
\item Customers with demand shifting capabilities can shift their demand to favorable time slot.
\end{itemize}
 

\subsection{Weather Service}
The weather service broadcasts weather forecast for future hours and a weather report for the current hour to the brokers. The weather report contains information such as wind speed, cloud cover, temperature, day of week and month of week. Power TAC uses real weather data from the past to make the simulation more realistic. Brokers can use these information to forecast demand for the weather sensative consumers. The weather information also makes it possible to forecast renewable energy production.

\subsection{Markets and Distribution Utility}

There are three different types of markets in the Power TAC simulation, namely, the wholsale market, tariff market and balancing market. The wholesale market is the bidding place for buying or selling energy. Bulk energy producers and brokers take part in the wholesale market auction. Brokers can submit their bids for 24 future timeslots in the wholesale market by specifying the price they are prepared to pay. If the bid was successful, the broker receives the desired quantity by paying the money. At each time slot, the system notifies the broker about the wholesale market clearing prices. Brokers publish their tariff plans in the tariff market. A tariff holds information about the pricing of the energy. Customers, upon analyzing available tariffs, subscribe to the most suited tariff plan. The balancing market represents the market from where the broker can buy energy in case of imbalance. For example, if a broker has bought less amount of energy for a given timeslot and it finds it needs more energy then it can buy the necessary amount of energy from the balancing market. Usually, the balancing market transactions are more costly for brokers than the wholesale market.

The distribution utility has two main objectives. First, it supplies energy to the consumers from the wholesale market and from the renewable producers. Secondly, it works as a default broker that publishes default tariffs at the start of the game. This makes sure no customer is ever out of energy. Other brokers are supposed to publish more lucrative tariffs to attract customers.


\begin{figure}[h]
  \includegraphics[width=\linewidth]{simulation-environment.png}
  \caption{PowerTAC simulation environment.}
  \label{fig:simulation-environment}
\end{figure}

\section{Importance of Accurate Demand Forecasting in Power TAC}
A broker has to make bids and asks in the wholesale market. The amount of electricity it asks depends on the demand forecast of its subscribed customers. If the broker fails to make accurate demand forecast, it will not be able to ask for proper amount of electricity. So it will end up asking more or less energy than the required amount in the wholesale market. In this case, the broker will have to buy energy from the balancing market in a higher price or has to sell surplus electricity in a lower rate. As a result, it will face monetary losses. This unwanted scenario can be avoided through demand forecasting as accurate as possible. This thesis investigates ways to find a better demand forecasting mechanism.

\section{Main Research Questions}
The brokers in the Power TAC gets only 5 seconds of time to communicate with the server. Within the 5 seconds, it has to decide how much electricity the customers are going to use, decide on a ask with a profitable bid and do other book keepings. It will be adventagaous if there is a way to have a single forecasting model that gives the aggregated demand prediction for all customers in a single shot. So the first research question will be - 
\begin{displayquote}
How can we make a single demand forecasting model that make demand forecasting about all the customers in a single shot?
\end{displayquote}

As I will be training machine learning models, the accuracy of the model will depend on which features I choos. If we can find out the most predictive features, the system will show less error. The second research question is -
\begin{displayquote}
What are the relevant features of the demand forecasting model?
\end{displayquote}

Not all learning algorithms are suitable for a given scenario. I will be looking for learning algorithms that can be trained fast, that produces demand forecast as accurate as possible and makes predictions fast. The third research question is-
\begin{displayquote}
What are learning algorithm suitable for the Power TAC scenario?
\end{displayquote}

The system should be robust enough to be able to make demand prediciton about a novel customer. The fourth research question is-
\begin{displayquote}
How can we make a forecasting model trained on known customers and that can forecast the demand of a novel customer?
\end{displayquote}

I would like to see how the training set size impacts the accuracy of the forecasting model. If with more train data the accuracy decreases, I will try to gather as much data as possible. The fifth research question is-
\begin{displayquote}
What is the impact of training set size on the accuracy of the prediction model?
\end{displayquote}
 
\section{Contribution}
In previous works of Power TAC, all the customers were treated the same. This work shows that different customer should be treated differently. I showed a demand prediction scheme for consumption type customer might not be suitable for interruptible consumption customers. This work proposes a method to make demand forecasting about a novel customer. During the training phase, known customers are grouped based on their weekly average electricity usage. Data of the same group are combined together to make forecasting model for that group. A novel customer is assinged to one of the groups based on its weekly average electricity usage. The forecasting model of that group will be used to make forecasting about the new customer. This scheme produces better forecasting than a moving average baseline forecasting scheme. This work also found that there is a little correlation with the accuracy of the system and the size of the training data set. 

\section{Overview of the Thesis}
In the second chapter of the thesis I present related work on electricity demand forecasting. In chapter 3, I present information about the customers present in Power TAC. The information include customer types, their behaviours and descriptive statistics about them. In chapter 4, I present the works I did to answer the research questions and show the result. In chapter 5, I present the significance of the results and future works.


%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "thesis"
%%% End: 
